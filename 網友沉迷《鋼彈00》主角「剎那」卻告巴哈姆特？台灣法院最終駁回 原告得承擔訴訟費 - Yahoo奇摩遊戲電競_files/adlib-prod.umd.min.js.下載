/*!
 * Version: 1.0.17, Build: 63925481, Time: 2023-06-16T02:49:54.477Z
 */

!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(e=e||self).__adlib=r()}(this,(function(){"use strict";function e(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function r(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?e(Object(o),!0).forEach((function(e){n(r,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}))}return r}function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:String(r)}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,c,i,u=[],l=!0,s=!1;try{if(c=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=c.call(t)).done)&&(u.push(n.value),u.length!==r);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw o}}return u}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return c(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var i=function(e,r,t,n){var o=n.debug,c=void 0!==o&&o,i=n.isV2,u=void 0!==i&&i,l=n.timeout,s=void 0===l?3e3:l,f=function(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];var o=t.reduce((function(e,r){return e+"["+String(r)+"]"}),""),c=function(r){if(e){for(var t,n=arguments.length,c=new Array(n>1?n-1:0),i=1;i<n;i++)c[i-1]=arguments[i];(t=console.log).call.apply(t,[null,"".concat(o," ").concat(r)].concat(c))}};return{log:c}}(c,e,r,t);if("function"!=typeof window[e])return f.log("please check your cmp.js version"),Promise.reject(new Error("please check your cmp.js version"));var a=!1;return new Promise((function(n,o){var c=setTimeout((function(){a=!0,f.log("timedout"),o(new Error("timedout"))}),s);window[e](r,t,(function(e,t){if(!a)if(clearTimeout(c),f.log("receive response",e,t),u){var i=e.cmpStatus,l=e.eventStatus;if(!t||"error"===i||"cmpuishown"===l)return void o(new Error("invalid response"));if("tcloaded"===l||"useractioncomplete"===l)return void n(e);f.log("cmp error",r,e),o(new Error("invalid response, unknown error"))}else t?n(e):o(new Error("invalid response"))}))}))},u=function(e){return i("__tcfapi","getTCData",2,r(r({},e),{},{isV2:!0})).then((function(e){var r=e.gdprApplies,t=e.tcString,n=e.vendor,o=(void 0===n?{}:n).consents,c=null;return o&&"boolean"==typeof o[77]&&(c=o[77]),{comscoreConsent:c,success:!0,tcString:t,gdprApplies:r}})).catch((function(e){return{success:!1}}))},l=function(e){return i("__cmp","getVendorConsents",1,e).then((function(e){var r=e.gdprApplies,t=e.vendorConsents,n=null;return t&&"boolean"==typeof t[77]&&(n=t[77]),{comscoreConsent:n,success:!0,gdprApplies:r}})).catch((function(e){return{success:!1}}))},s=function(e){return Promise.all([l(e),u(e)]).then((function(e){var r=o(e,2),t=r[0],n=r[1];return n.success?n:t})).catch((function(e){return{success:!1}}))},f=function(e){return i("__uspapi","getDoNotSell",1,e).then((function(e){var r=e.doNotSell;return"boolean"==typeof r?r:null})).catch((function(e){return null}))},a=function(e){return Promise.all([f(e),s(e)]).then((function(e){var r=o(e,2),t=r[0],n=r[1],c=null;if("boolean"==typeof t&&(c=t?0:1),0!==c){var i=n.comscoreConsent,u=n.gdprApplies;n.success&&u&&(c=i?1:0)}var l=null,s=null,f=n.gdprApplies,a=n.tcString;return a&&(l=f?1:0,s=a),{gdpr:l,gdprConsent:s,ucfr:c}}))};return{fireComscoreBeacon:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===t(e)&&0!==Object.keys(e)){var o=n.timeout,c=void 0===o?2e3:o,i=n.debug,u=void 0!==i&&i;return a({timeout:c,debug:u}).then((function(t){var n,o,c=t.gdpr,i=t.gdprConsent,u=t.ucfr,l=r({},e);0!==u&&1!==u||(l.cs_ucfr=u),i&&(l.gdpr=c,l.gdpr_consent=i),window._comscore=window._comscore||[],window._comscore.push(l),n=document.createElement("script"),o=document.getElementsByTagName("script")[0],n.async=!0,n.src="https://s.yimg.com/lq/lib/3pm/cs_0.2.js",o.parentNode.insertBefore(n,o)})).catch((function(e){console.log("fireComscoreBeacon failed",e)}))}}}}));
